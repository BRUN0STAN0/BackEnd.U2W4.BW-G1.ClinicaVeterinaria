@model ClinicaVeterinaria.Models.Animale

@{
    ViewBag.Title = "CercaByChip";
}

<h2>CERCA ANIMALE </h2>

<input type="text" name="MicroChip" id="RicercaChip" class="form-control" />
<input type="button" name="MicroChip" id="btnChip" class="btn mt-1" value="Cerca" style="background-color:cornflowerblue; color:white" />
<p id="animale">

</p>


<script type="text/javascript">
    $(document).ready(function () {

        $('#btnChip').click(function () {
            let InputChip = $('#RicercaChip').val();

            $.ajax({
                url: 'CercaByChipInput',
                method: 'GET',
                data: { 'microchip': InputChip },
                success: function (animale) {
                    if (animale == "ERROR") {
                        $('#animale').text("Nessun animale trovato in questa clinica")
                    } else {
                        $('#animale').text(animale.Nome)  
                    }
                },
                error: function (er) {
                    $('#animale').text(er);
                }
            });
        });
    });

</script>